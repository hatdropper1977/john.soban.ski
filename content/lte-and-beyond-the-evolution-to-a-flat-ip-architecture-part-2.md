Title: LTE and Beyond:  The Evolution from Heirarchical to Flat IP Mobile Network Architectures (Part 2)
Date: 2022-06-25 01:11
Author: john-sobanski
Category: IETF
Tags: LTE, 3GPP, SD-RAN
Slug: lte-and-beyond-the-evolution-to-a-flat-ip-architecture-part-2
Status: published

This month's blog post [continues to discuss]({filename}/lte-and-beyond-the-evolution-to-a-flat-ip-architecture.md) the [evolution](https://en.wikipedia.org/wiki/System_Architecture_Evolution) from [hierarchical](https://ieeexplore.ieee.org/abstract/document/760423/) to [Flat Internet Ptotocol (IP)](https://en.wikipedia.org/wiki/Flat_IP) Architectures for mobile networks.

Be sure to read [Part One]({filename}/lte-and-beyond-the-evolution-to-a-flat-ip-architecture.md) if you have not already.

This post briefly discusses the components of mobile data technology evolution and lists the strengths of a flat Internet Protocol (IP) architecture.  I compare and contrast the flat architecture to the traditional [hierarchical and centralized](https://en.wikipedia.org/wiki/Hierarchical_network_model) (H/C) approach.  Flat IP architectures, vs. H/C approaches enable scalability that can accomodate the **traffic explosion** witnessed by modern Mobile Networks [[Bokor](https://link.springer.com/chapter/10.1007/978-3-642-20898-0_3) 1].  This post also looks at the evolution of [mobility management](https://en.wikipedia.org/wiki/Mobility_management) (MM) in relation to flat and H/C architecture scalability, and discusses the MM approache of Dynamic Mobility Management (DMM).

## Flat Architectures
A flat architecture integrates Base Station (BS) Layer 2 and Layer 3 functions.  To review, Layer 1 provides TX and RX of data over the wireless channel.  Layer 2 performs link-layer fragmentation/ reassembly and [Error Detection and Correction](https://en.wikipedia.org/wiki/Error_detection_and_correction) (EDAC).  Layer 3 provides IP-Layer services and enables wireless voice circuits. [[Bosch](https://ieeexplore.ieee.org/document/4224951/) 3864].  For example, Long Term Evolution (LTE) provides a Flat Architecture.  LTE "incorporat[es] radio network controller (RNC) functionality inside [Evolved Universal Terrestrial Radio Access Network Node Base Transceiver Station] [(eNodeB)](https://en.wikipedia.org/wiki/EnodeB), handovers [are] negotiated and managed directly between eNodeBs, which… mimic those currently employed in 3G [Universal Terrestrial Radio Access Network (UTRAN)] networks [[Bogineni](https://ieeexplore.ieee.org/document/4785378/) 41].”

Why do we use flat architectures?  Flat architectures enable high scalability because (in their desired end state) they can remove centralized anchors (main performance bottlenecks) and forward traffic in a distributed fashion.  They enable broadband access evolution.  Without central node resource or hierarchical concerns systems can use range extension of Radio Access Networks (RAN) through unmanaged micro-, pico- and femtocells.  With direct connect integrated and IP-enabled radio base station (BS) to the IP core infrastructure, the system enables easy interoperation between heterogeneous wireless technologies which facilitates infrastructure sharing for the operators.  Flat eliminates access technology specific centralized components.  A “single box” (such as eNodeB) removes the insertion and queue delays of the hierarchical/ multi-element access and core NW approach.  A single box approach removes feedback time of inter-module COMM (i.e. handle signaling locally) and enables cross-layer optimization schemes (improves performance).  In addition, general-purpose IP equipments drive economy of scale.  Also, fewer integrated components drive reduced OPEX since removing single points of failure results in greater reliability.  Eliminating inter-layer complexity reduces suboptimal routing situations and realizes advanced resource efficiency. [[Bokor](https://link.springer.com/chapter/10.1007/978-3-642-20898-0_3) 46].  I’ve condensed the text of [[Bosch](https://ieeexplore.ieee.org/document/4224951/) 3864] into the table below.

![Reasons for a flat architecture]({filename}/images/Lte_And_Beyond_The_Evolution_To_A_Flat_Ip_Architecture_Part_2/01_reasons_for_flat_architecture.png)

Mobile engineers work towards an ultra flat architecture (UFA).  The UFA contains one node, a  base station (BS), which executes both data forwarding plane and control plane functions and includes the IP Multimedia Subsystem (IMS).  The UFA distributes IMS and mobile NW functions into the BS.  The establishment and MM procedures integrate Quality of Service (QoS) and controlled via the NW. [[Daoud](https://ieeexplore.ieee.org/document/5450117/) 797].

## System Mobility
Now that we have discussed the differences between H/C and Flat architecture approaches, we now look at one of the most important functions of mobile packet switched architectures, mobility management (MM).  Older MM solutions rely on H/C architectures since they employ anchor nodes for mobility signaling and user traffic forwarding.  H/C MM plumbs explicit routes (or tunnels) through the hierarchy of the system to one or more base stations that maintain wireless connections with a mobile.  In the [UMTS]({filename}/lte-and-beyond-the-evolution-to-a-flat-ip-architecture.md) packet service, for example, the Gateway General Packet Radio Service (GPRS) Support Node (GGSN) forwards the IP packets to the Serving GPRS Support Node (SGSN) which then tunnels the data to the RNC which processes the IP packet into transport blocks and forwards those transport blocks over ATM to the Node Bs. [[Bosch](https://ieeexplore.ieee.org/document/4224951/) 3865].

Consider a mobile in a paging area (a set of BS).  In the H/C a central node (e.g. RNC, MSC or SGSN) maintains available mobiles for paging areas.  If the central node receives an incoming call for a dormant mobile phone it initiates access-specific paging functions to the paging area.  All the BS in the paging area transmit a page over the paging channel in their cell to find the mobile.  The mobile receives the page, wakes up and re-establishes contact.  The central node then delivers the IP packets. [[Bosch](https://ieeexplore.ieee.org/document/4224951/) 3865].

Flat systems, however, do not have a central anchor for call or IP packet receipt.  A BS assumes the role of the central node (usually the mobile's BS of last attachment becomes anchor point).  An incoming call or IP packet now arrives in the last point of attachment.  Like the H/C, the anchor point n-point unicasts to the paging area.  The BS in the paging areas all page the mobile, and the mobile responds to one of the base stations.  If the mobile responds on a different BS than the anchor, the BS relocates state associated with the mobile from BS to BS before initial call or IP packet delivery completes. [[Bosch](https://ieeexplore.ieee.org/document/4224951/) 3866].
[Hybrid Automatic Repeat reQuest](https://en.wikipedia.org/wiki/Hybrid_automatic_repeat_request) (H-ARQ) drives a flat architecture, since it obviates the need for spatial diversity.  Spatial diversity drives a H/C.  We can have four mobility management approaches, either H/C or Flat, and with H-ARQ or without H-ARQ.  I put together a quad chart, derived from the text of [[Bosch](https://ieeexplore.ieee.org/document/4224951/) 3865], that summarizes the different approaches.

![H-ARQ approaches]({filename}/images/Lte_And_Beyond_The_Evolution_To_A_Flat_Ip_Architecture_Part_2/02_h_arq_approaches.png)
 
To avoid anchor points, or any notion of H/C in MM, we use distributed mobility management or DMM.  I’ve summarized the text of [[Bokor](https://link.springer.com/chapter/10.1007/978-3-642-20898-0_3) 44] below.

![DMM Alternatives]({filename}/images/Lte_And_Beyond_The_Evolution_To_A_Flat_Ip_Architecture_Part_2/03_dmm_alternatives.png) 
 
Bokor further disects DMM into two approaches, partial or full.  I’ve summarized the text below:
 
![DMM Partial vs. Full]({filename}/images/Lte_And_Beyond_The_Evolution_To_A_Flat_Ip_Architecture_Part_2/04_dmm_partial_vs_full.png)
 
Ali discusses two IP based MM approaches in which the UE preserves his IP address, aka home address.  In network based MM, the NW (access GW) detects if the UE changed his point of attachment.  If so, the NW provides the UE with the same IP address, updates the mobility anchor in the NW and the packets arrive at the new UE point of attachment.  The UE functions independent of MM signaling.  In client-based MM, the UE obtains a new local IP address upon move, which we call the care-of-address.  The UE updates the home agent and the home agent maintains binding between care-of-address and home address of UE. [[Ali](https://ieeexplore.ieee.org/document/4785381/) 59].  3GPP uses [PMIPv6](https://tools.ietf.org/html/rfc5213) for IP MM between 3GPP & non3GPP (and also optional for intra3GPP).  PMIPv6 provides handover capability within and between access systems with no perceivable service interruption.  PMIPv6 minimizes delay from MM procedure with efficient use of resources.  Wireless resources could be a potential bottleneck, so PMIPv6 minimizes UE involvement in MM (improve the battery life).  PMIPv6 introduces the Local Mobility Anchor (LMA), the equivalent of a home agent that provides the topological anchor point for the home network prefix and manages the binding state of the mobile node.  The PMIPv6 Mobile Access Gateway (MAG), acts as the proxy (foreign) agent for the terminal and handles the mobility signaling (e.g., a proxy binding update) toward the LMA upon terminal movement. [[Ali](https://ieeexplore.ieee.org/document/4785381/) 59].  In summary PMIPv6 for 3GPP EPC Release 8 provides inter-access system mobility, enables a common packet core for various access technologies, provisions QoS and executes seamless handovers.  PMIPv6 achieves non-optimized handovers between 3GPP accesses and other non-3GPP accesses and optimized handovers between E-UTRAN and [eHRPD](https://tools.ietf.org/html/rfc6312).  PMIPv6 supports UE multiple-access to EPC, provides MM and controls individual IP flow routes between different radio interfaces. [[Ali](https://ieeexplore.ieee.org/document/4785381/) 64].

## Conclusion
Mobile communication systems move towards a flat IP architecture.  Flat systems reduce complexity and leverage the technology of IP networks.  This paper discussed the reasons behind Hierarchical and Centralized systems, and then followed their evolution to Flat and then Ultra Flat architectures.  In addition, this paper discussed the evolution of the packet switched component of mobile systems.  This paper also addressed scalability concerns and focused on the evolution and types of mobility management schemes.

## Bibliography
 - Ali, Ifran, Alessio Casati, Kuntal Chowdhury, Katsutoshi Nishida, Eric Parsons, Stefan Schmid and Rahul Vaidya.  “[LTE 3GPP RELEASE 8:  Network-Based Mobility Management in the Evolved 3GPP Core Network](https://ieeexplore.ieee.org/document/4785381/).”  IEEE Communications Magazine February 2009: 58-66
 - Bogineni, Kalyani, Reiner Ludwig, Preben Mogensen and Vish Nandlall.  “[LTE Core: Part I](https://ieeexplore.ieee.org/document/4785378/).”  IEEE Communications Magazine February 2009: 40-43
 - Bokor, László, Zoltán Faigl and Sándor Imre.  “[Flat Architectures: Towards Scalable Future Internet Mobility](https://link.springer.com/chapter/10.1007/978-3-642-20898-0_3).”  Future Internet Assembly LNCS 6656 2011: 35–50
 - Bosch, Peter, Louis Samuel, Sape Mullender, Paul Polakos and Gee Rittenhouse.  “[Flat Cellular (UMTS) Networks](https://ieeexplore.ieee.org/document/4224951/).”  IEEE Wireless Communications & Networking Conference (WCNC) 2007: 3864-3869
 - Daoud, Khadija, Philippe Herbelin and Karine Guillouard.  “[Performance and Implementation of UFA: a SIP- based Ultra Flat Mobile Network Architecture](https://ieeexplore.ieee.org/document/5450117/).”  PIMRC 2009: 793-797
 - Sarin, Arun.  “[The Future Of Convergence In The Communications Industry](https://ieeexplore.ieee.org/document/4342843/).”  IEEE Communications Magazine September 2007: 12-14
